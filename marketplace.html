<html>
  <head>
    <title>CyberBrokers Mech Auto Assembler</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="./css/bootstrap.min.css?v=1.3">
    <link rel="stylesheet" href="./css/vanillaSelectBox.css?v=1.3">
    <link rel="stylesheet" href="./css/main.css?v=1.3">
    <link rel="stylesheet" href="./css/marketplace.css?v=1.3">
    <link rel="stylesheet" href="./css/dropdown.css?v=1.3">
  </head>
  <body>
    <div class="header">
      <h3>CYBERBROKERS</h3>
      <div class="subtitle">
        <span>Mech Part Marketplace</span>
      </div>
      <div class="navLinks">
        <span><a href="revealed.html">Revealed Mechs</a></span>&nbsp;|
        <span><a href="stats.html">Revealed Stats</a></span>&nbsp;|
        <!--<span class="activeLink">Marketplace</span>&nbsp;|-->
        <span><a href="index.html">Unrevealed Mechs</a></span>&nbsp;|
        <span><a href="owners.html">Unrevealed Stats</a></span>&nbsp;|
        <!--<span><a href="parts.html">Power Stats</a></span>&nbsp;|-->
        <span><a href="builder.html">Builder</a></span>&nbsp;|
        <span><a href="./gallery/index.html">CB Gallery</a></span>&nbsp;|
        <span><a href="./mechs/index.html">Mech Gallery</a></span>&nbsp;|
        <!--<span><a href="mechs.html">3D Viewer</a></span>&nbsp;|-->
        <!-- <span><a href="mech-ar.html">AR Apps</a></span>&nbsp;| -->
        <!--<span><a href="3d.html">3D Game</a></span>&nbsp;|-->
        <span><a href="lp.html">Lost Paradigms</a></span>
      </div>
    </div>

    <div id="addParts" class="modal" style="display: none;width: 450px;">
      <div class="" style="margin-top: 0px;height: 86%;overflow: scroll;">
        <h4> Parts <span id="parts_count">0</span> <div id="userTableToggle" class="toggle" onclick="hidePartsModal()">
          X </div>
        </h4>

        <table id="partsTable" class="table table-listing">
          <thead>
            <th>Image</th>
            <th><select id="ModelParts" multiple="" size="3" style="display: inline-block;"></select></th>
            <th id="full_style2"><select id="StyleParts" multiple="" size="3" style="display: inline-block;"></select></th>
            <th><select id="PartParts" multiple="" size="3" style="display: inline-block;"></select></th>
          </thead>

          <tbody id="parts">
          </tbody>
        </table>
      </div>
      <div class="button_div">
        <button id="create_listings" class="submitBtn" style="width: 100px;" onclick="addParts()">List Selected</button>
      </div>
    </div>

    <div id="addUser" class="modal" style="display: none;">
      <div class="" style="margin-top: 0px;">
        <h4> Login / Sign Up <div id="userTableToggle" class="toggle" onclick="hideUserModal()">
          X
        </div>
      </h4>
        <div class="form">
          <div class="formRow">
            <div class="col-md-4">
              <label for="modelSelect">Discord Name: </label>
            </div>
            <div class="col-md-8">
              <input id="user_discord" type="text">
            </div>
          </div>
          <div class="formRow">
            <div class="col-md-4">
              <label for="styleSelect">Wallet: </label>
            </div>
            <div class="col-md-8">
              <input id="user_wallet" type="text">
            </div>
          </div>
          <div class="button_div">
            <button id="sign_up" class="submitBtn" onclick="signupUser()">Sign Up</button>
            <button id="login" class="submitBtn" onclick="loginUser()">Login</button>
          </div>
        </div>
      </div>
    </div>

    <div id="addOffer" class="modal" style="display: none;">
      <div class="" style="margin-top: 0px;">
        <h4> New Offer <div id="dealsTableToggle" class="toggle" onclick="hideOfferModal()">
          X
        </div>
      </h4>
        <div class="form">
          <div class="formRow">
            <div class="col-md-4">
              <label for="modelSelect">Model: </label>
            </div>
            <div class="col-md-8">
              <div class="custom-select">
                <select id="modelSelect" onchange="onOfferModelChange()">
                  <option value="">Select Model...</option>
                  <option value="Enforcer">Enforcer</option>
                  <option value="Ravager">Ravager</option>
                  <option value="Behemoth">Behemoth</option>
                  <option value="Lupis">Lupis</option>
                  <option value="Nexus">Nexus</option>
                </select>
              </div>
            </div>
          </div>
          <div class="formRow">
            <div class="col-md-4">
              <label for="styleSelect">Style: </label>
            </div>
            <div class="col-md-8">
              <div class="custom-select" id="style-custom-select">
                <select id="styleSelect">
                  <option value="">Select Style...</option>
                </select>
              </div>
            </div>
          </div>
          <div class="formRow">
            <div class="col-md-4">
              <label for="partSelect">Part: </label>
            </div>
            <div class="col-md-8">
              <div class="custom-select">
                <select id="partSelect">
                  <option value="">Select Part...</option>
                  <option value="Engine">Engine</option>
                  <option value="Head">Head</option>
                  <option value="Body">Body</option>
                  <option value="Legs">Legs</option>
                  <option value="Arm">Arm</option>
                </select>
              </div>
            </div>
          </div>
          <div class="button_div">
            <button class="submitBtn" onclick="submitOffer()">Submit</button>
          </div>
        </div>
      </div>
    </div>

    <div id="addDeal" class="modal" style="display: none;">
      <div class="" style="margin-top: 0px;">
        <h4> New Deal <div id="dealsTableToggle" class="toggle" onclick="hideDealModal()">
          X
        </div>
      </h4>
        <div class="form">
          <h5>Has</h5>
          <div class="formRow">
            <div class="col-md-4">
              <label for="modelSelect">Model: </label>
            </div>
            <div class="col-md-8">
              <div class="custom-select">
                <select id="modelSelect_has" onchange="onDealHasModelChange()">
                  <option value="">Select Model...</option>
                  <option value="Enforcer">Enforcer</option>
                  <option value="Ravager">Ravager</option>
                  <option value="Behemoth">Behemoth</option>
                  <option value="Lupis">Lupis</option>
                  <option value="Nexus">Nexus</option>
                </select>
              </div>
            </div>
          </div>
          <div class="formRow">
            <div class="col-md-4">
              <label for="styleSelect">Style: </label>
            </div>
            <div class="col-md-8">
              <div class="custom-select" id="style-custom-select-has">
                <select id="styleSelect_has">
                  <option value="">Select Style...</option>
                </select>
              </div>
            </div>
          </div>
          <div class="formRow">
            <div class="col-md-4">
              <label for="partSelect">Part: </label>
            </div>
            <div class="col-md-8">
              <div class="custom-select">
                <select id="partSelect_has">
                  <option value="">Select Part...</option>
                  <option value="Engine">Engine</option>
                  <option value="Head">Head</option>
                  <option value="Body">Body</option>
                  <option value="Legs">Legs</option>
                  <option value="Arm">Arm</option>
                </select>
              </div>
            </div>
          </div>
          <h5>Wants</h5>
          <div class="formRow">
            <div class="col-md-4">
              <label for="modelSelect">Model: </label>
            </div>
            <div class="col-md-8">
              <div class="custom-select">
                <select id="modelSelect_wants" onchange="onDealWantsModelChange()">
                  <option value="">Select Model...</option>
                  <option value="Enforcer">Enforcer</option>
                  <option value="Ravager">Ravager</option>
                  <option value="Behemoth">Behemoth</option>
                  <option value="Lupis">Lupis</option>
                  <option value="Nexus">Nexus</option>
                </select>
              </div>
            </div>
          </div>
          <div class="formRow">
            <div class="col-md-4">
              <label for="styleSelect">Style: </label>
            </div>
            <div class="col-md-8">
              <div class="custom-select" id="style-custom-select-wants">
                <select id="styleSelect_wants">
                  <option value="">Select Style...</option>
                </select>
              </div>
            </div>
          </div>
          <div class="formRow">
            <div class="col-md-4">
              <label for="partSelect">Part: </label>
            </div>
            <div class="col-md-8">
              <div class="custom-select">
                <select id="partSelect_wants">
                  <option value="">Select Part...</option>
                  <option value="Engine">Engine</option>
                  <option value="Head">Head</option>
                  <option value="Body">Body</option>
                  <option value="Legs">Legs</option>
                  <option value="Arm">Arm</option>
                </select>
              </div>
            </div>
          </div>
          <div class="button_div">
            <button class="submitBtn" onclick="submitDeal()">Submit</button>
          </div>
        </div>
      </div>
    </div>

    <div class="container" style="margin-left: 4px;">
      <div class="col-md-12">
        <div style="display: inline-block">
          <div id="new_user" class="padded">
            <button class="btn-primary" onclick="showUserModal();">Login / Sign Up</button>
          </div>
          <div id="logout" class="padded" style="display: none;">
            <button class="btn-primary" onclick="logout();">Logout</button>
          </div>
          <!-- <div id="new_deal" class="padded" >
            <button class="btn-primary" onclick="showDealModal();">New Deal</button>
          </div> -->
          <div id="bulk_deal" class="padded" >
            <button class="btn-primary" onclick="showPartsModal();">List Parts</button>
          </div>
          <div id="welcome" class="padded">
            Login or SignUp to Continue
          </div>
        </div>
      </div>

      <div class="col-md-12">
        <div style="margin: 4px;">
          <div class="col-md-6" style="margin-bottom: 8px;width: calc(50% - 4px);height: 150px;border: solid 1px #578c87;background-color: #1f3331;">
            <div id="borderDiv2">
               <b><span style="color: rgb(255 184 0)">Claim Your Address:</span></b><br>
              When you sign up your wallet address is your unique id and no one else can claim it.<br>
              Contact each other on CyberBrokers Discord in the #for-sale-mech channel to make a trade.
              <br> <br> 
              <span style="color: rgb(255 66 0)">No signing or blockchain transactions happen on this website.</span>
              <br>Transact safely on Discord with people you know and trust, beware of scammers.<br> 
              <span style="color: rgb(255 184 0)">This website is for entertainment purposes only.</span>
            </div>
          </div>
          <div class="col-md-6" style="margin-bottom: 8px;width: calc(50% - 4px);margin-left: 8px;height: 150px;border: solid 1px #578c87;background-color: #1f3331;">
            <div id="borderDiv2">
              <b><span style="color: rgb(255 184 0)">Deals:</span></b><br>
            Create a new Deal for a part you want to exchange for another part. You can remove deal with the Red Minus button.
            <br><br>
              <b><span style="color: rgb(255 184 0)">Offers:</span></b><br>
              Make offers on deals using the Green Plus button. You can remove an offer with the Red Minus button.
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-md-12">
        <div id="connected" style="display: none">

          <div class="col-md-6">
            <div class="borderDiv3" style="margin-top: 0px;">
              <h4> Deals <span id="deal_count">0</span> 
                <button class="tooltipBtn" tip="Deals users have posted">?</button>
                <div id="dealsTableToggle" class="toggle" onclick="toggleTable('dealsTable')">
                  &#8212;
                </div>
              </h4>

              <table id="dealsTable" class="table table-listing">
                <thead>
                  <th style="width:100px;">Image</th>
                  <th>
                    <div class="multiselect" style="display: none;">
                      <select id="User" multiple="" size="3" style="display: inline-block;"></select>
                    </div>
                  </th>
                  <th>Type</th>
                  <th><select id="Model" multiple="" size="3" style="display: inline-block;"></select></th>
                  <th><select id="Part" multiple="" size="3" style="display: inline-block;"></select></th>
                  <th id="full_style2"><select id="Style" multiple="" size="3" style="display: inline-block;"></select></th>
                  <th>Offer</th>
                  <th>Remove</th>
                  <!-- <th>Count</th> -->
                </thead>

                <tbody id="deals">
                </tbody>
              </table>
            </div>
          </div>

          <div class="col-md-6">
            <div class="borderDiv3" style="margin-top: 0px;">
              <h4> Offers <span id="offer_count">0</span> 
                <button class="tooltipBtn" tip="Offers for this deal">?</button>
                <div id="dealsTableToggle" class="toggle" onclick="toggleTable('dealsTable')">
                  &#8212;
                </div>
              </h4>

              <table id="dealsTable" class="table table-listing">
                <thead>
                  <th style="width:100px;">Image</th>
                  <th>User</th>
                  <th>Model</th>
                  <th>Part</th>
                  <th id="full_style2">Style</th>
                  <th>Remove</th>
                  <!-- <th>Count</th> -->
                </thead>

                <tbody id="offers">
                </tbody>
              </table>
            </div>
          </div>

        </div>
      </div>
    </div>
    
    <div id="templates" style="display: none">
      <template id="template-deals">
        <tr>
          <td class="image"></td>
          <td class="user"></td>
          <td class="text"></td>
          <td class="model"></td>
          <td class="part"></td>
          <td class="style"></td>
          <td class="offer"></td>
          <td class="remove"></td>
          <!-- <td class="count"></td> -->
        </tr>
      </template>

      <template id="template-offers">
        <tr>
          <td class="image"></td>
          <td class="user"></td>
          <td class="model"></td>
          <td class="part"></td>
          <td class="style"></td>
          <td class="remove"></td>
          <!-- <td class="count"></td> -->
        </tr>
      </template>

      <template id="template-parts">
        <tr>
          <td class="image"></td>
          <td class="model"></td>
          <td class="style"></td>
          <td class="part"></td>
          <!-- <td class="count"></td> -->
        </tr>
      </template>
    </div>
    <script type="text/javascript" src="https://unpkg.com/web3@1.2.11/dist/web3.min.js"></script>
    <script type="text/javascript" src="./js/web3/abi/ERC1155.js?v=1.3"></script>
    <script type="text/javascript" src="./js/web3/abi/ERC721.js?v=1.3"></script>
    <script type="text/javascript" src="./js/web3/abi/wrapper.js?v=1.3"></script>
    <script type="text/javascript" src="./js/web3/abi/RevealedMechParts.js?v=1.3"></script>
    <script type="text/javascript" src="./js/web3/wallet.js?v=1.3"></script>
    <script type="text/javascript" src="./js/data/metadata.js?v=1.3"></script>
    <script type="text/javascript" src="./js/util/utils.js?v=1.3"></script>
    <script type="text/javascript" src="./js/util/constants.js?v=1.3"></script>
    <script type="text/javascript" src="./js/ui/vanillaSelectBox.js?v=0.7"></script>
    <script type="text/javascript" src="./js/ui/multiselect.js?v=0.7"></script>
    <script type="text/javascript" src="./js/marketplace/marketplace.js?v=1.3"></script>
  </body>
</html>
